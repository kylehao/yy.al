<!DOCTYPE html>
<html lang="en" >

<head>
<meta charset="UTF-8">
<title>雪花动画场景特效 - 听松阁</title>



<style>
html, body {
  margin:0;
  padding:0;
  background:#001;
}

canvas {
  display:block;
}
</style>


<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="css/demo.css" />
		<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.2.0/css/font-awesome.min.css" />
		<link rel="stylesheet" type="text/css" href="css/menu_bubble.css" />
		<script src="js/snap.svg-min.js"></script>

<script src="images/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript" src="images/lightbox.min.js"></script>
<style type="text/css">
.wrapper{ margin:0px auto; padding:20px; border:1px solid #CCC; background:#333; width:980px; font-size:12px;}
</style>
<link rel="shortcut icon" type="image/x-icon" href="img/an.ico"/>
		<style type="text/css">
			/*样式初始化*/
			* {
				margin: 0;
				padding: 0;
				list-style: none;
			}
			/*去除横向滚动条*/
			body {
				overflow-x: hidden;
				overflow-y: hidden;
				background-color: 000;
				font-size:13px;
				color: #ffffff;
			}
			/*将div铺满整个窗口*/
			.box {
				height: 100vh;
				min-height: 520px;
				display: flex;
				justify-content: center;
				align-items: center;
				flex-direction: column;
background-color: 000;
			}
			/*设置大ul的大小及定位*/
			.content {
				position: relative;
				width: 100%;
				height: 100%;
background-color: 000;
			}
			/*设置大li样式*/
			.content li {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
			}

		</style>
<noscript></head></noscript>
	
<body Scroll=no>

<div style="position:absolute; width:100%; height:100%; z-index:2; left: 0px; top: 0px;">
			<div class="menu-wrap">
				<nav class="menu">
					<div class="icon-list" >
						<a href="../../"><i class="fa fa-fw fa-star-o"></i><span>傍晚时分森林</span></a>
						<a href="../../index/snow/"><i class="fa fa-fw fa-bell-o"></i><span>漫天雪花特效</span></a>
						<a href="../../index/photoqh/"><i class="fa fa-fw fa-envelope-o"></i><span>自适应图片特效</span></a>
						<a href="../../index/plane/"><i class="fa fa-fw fa-comment-o"></i><span>卡通飞机飞行动画</span></a>
						<a href="../../index/san/"><i class="fa fa-fw fa-newspaper-o"></i><span>卡通雨伞上升动画</span></a>
						<a href="../../index/car/"><i class="fa fa-fw fa-star-o"></i><span>汽车公路上行驶</span></a>
						<a href="../../index/hacker/"><i class="fa fa-fw fa-bell-o"></i><span>黑客帝国代码特效</span></a>
						<a href="../../index/train/"><i class="fa fa-fw fa-newspaper-o"></i><span>火车行进动画</span></a>
						<a href="../../index/winter/"><i class="fa fa-fw fa-star-o"></i><span>卡通冬季场景动画</span></a>
						<a href="../../index/cloud/"><i class="fa fa-fw fa-bell-o"></i><span>山间云雾缭绕</span></a>
						<a href="../../index/qingxie/"><i class="fa fa-fw fa-newspaper-o"></i><span>倾斜分割布局特效</span></a>
						<a href="../../index/palace/"><i class="fa fa-fw fa-newspaper-o"></i><span>宫殿星空夜景特效</span></a>
						<a href="../../index/beijing/"><i class="fa fa-fw fa-newspaper-o"></i><span>全屏背景渐变切换</span></a>
						<a href="../../index/huandeng/"><i class="fa fa-fw fa-bell-o"></i><span>全屏幻灯片特效</span></a>
					
					</div>
				</nav>
				<button class="close-button" id="close-button">Close Menu</button>
				<div class="morph-shape" id="morph-shape" data-morph-open="M-7.312,0H15c0,0,66,113.339,66,399.5C81,664.006,15,800,15,800H-7.312V0z;M-7.312,0H100c0,0,0,113.839,0,400c0,264.506,0,400,0,400H-7.312V0z">
					<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 800" preserveAspectRatio="none">
						<path d="M-7.312,0H0c0,0,0,113.839,0,400c0,264.506,0,400,0,400h-7.312V0z"/>
					</svg>
				</div>
			</div>
			<button class="menu-button" id="open-button">Open Menu</button>
			<div class="content-wrap">
	
					

<!-- 代码 开始 -->
<div class="fish" style="position:absolute; width:1350px; height:500px; z-index:2; left: 20px; top: 50px;backgroud-color:000;">
<table>
	<!-- 第1行 -->
    <tr>
     <td width="40"></td>
     <td align="center" width="60"><a href="../../../../../index/index.html#18611bdd9a95775754883689b147e772" target="_blank"><img name="folder" src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/folder.gif" width="50" height="50" border="0" id="index_r2_c2" alt="" /></a></td>
     <td width="20"></td>
     <td align="center" width="60"><a href="../../../../../photo/" target="_blank"><img name="pictures" src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/pictures.gif" width="50" height="50" border="0" id="index_r2_c4" alt="" /></a></td>
     <td width="20"></td>
     <td align="center" width="60"><a href="../../../../../vip/" target="_blank"><img name="vip" src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/vip.gif" width="50" height="50" border="0" id="index_r2_c6" alt="" /></a></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
    </tr>
    <tr>
     <td width="40"></td>
     <td align="center" width="60">我的文档</td>
     <td width="20"></td>
     <td align="center" width="60">我的相册</td>
     <td width="20"></td>
     <td align="center" width="60">视频解析</td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
    </tr>
    <tr>
     <td>&nbsp;</td>
    </tr>
    
<!-- 第2行 -->   
    <tr>
     <td width="40"></td>
     <td align="center" width="60"><a href="../../../../../index/index.html#18611bdd9a95775754883689b147e772" target="_blank"><img name="computer" src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/computer.gif" width="50" height="50" border="0" id="index_r5_c2" alt="" /></a></td>
     <td width="20"></td>
     <td align="center" width="60"><a href="../../../../../poem/door/" target="_blank"><img name="poem" src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/poem.gif" width="50" height="50" border="0" id="index_r5_c6" alt="" /></a></td>
     <td width="20"></td>
     <td align="center" width="60"><a href="../../../../../musicindex/" target="_blank"><img name="music" src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/lxyy.gif" width="50" height="50" border="0" id="index_r11_c2" alt="" /></a></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
    </tr>
    <tr>
     <td width="40"></td>
     <td align="center" width="60">我的电脑</td>
     <td width="20"></td>
     <td align="center" width="60">古典诗词</td>
     <td width="20"></td>
     <td align="center" width="60">在线音乐</td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
    </tr>
    <tr>
     <td>&nbsp;</td>
    </tr>
    
<!-- 第3行 -->
    <tr>
     <td width="40"></td>
     <td align="center" width="60"><a href="../../../../../wuxia/" target="_blank"><img name="wuxia" src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/wuxia.gif" width="50" height="50" border="0" id="index_r8_c6" alt="" /></a></td>
     <td width="20"></td>
     <td align="center" width="60"><a href="../../../../../shishen/" target="_blank"><img name="down" src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/log.png" width="50" height="50" border="0" id="index_r11_c4" alt="" /></a></td>
     <td width="20"></td>
     <td align="center" width="60"><a href="http://pan.660000.xyz/" target="_blank"><img name="down" src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/aliyun.gif" width="50" height="50" border="0" id="index_r11_c4" alt="" /></a></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
    </tr>
    <tr>
     <td width="40"></td>
     <td align="center" width="60">武侠小说</td>
     <td width="20"></td>
     <td align="center" width="60">听松阁</td>
     <td width="20"></td>
     <td align="center" width="60">阿里云盘</td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
    </tr>
    <tr>
     <td>&nbsp;</td>
    </tr>
    
<!-- 第4行 -->
    <tr>
     <td width="40"></td>
     <td align="center" width="60"><a href="https://free345.com/" target="_blank"><img name="blog" src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/blog.gif" width="50" height="50" border="0" id="index_r11_c4" alt="" /></a></td>
     <td width="20"></td>
     <td align="center" width="60"><a href="http://kylehao.ysepan.com/" target="_blank"><img name="share" src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/share.gif" width="50" height="50" border="0" id="index_r5_c4" alt="" /></a></td>
     <td width="20"></td>
     <td align="center" width="60"><a href="../../../../../dys/" target="_blank"><img name="share" src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/dys.gif" width="50" height="50" border="0" id="index_r5_c4" alt="" /></a></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
    </tr>
   <tr>
   	<td width="40"></td>
    <td align="center" width="60">我的博客</td>
    <td width="20"></td>
    <td align="center" width="60">文件分享</td>
    <td width="20"></td>
    <td align="center" width="60">德云社</td>
    <td width="20"></td>
    <td align="center" width="60"></td>
    <td width="20"></td>
    <td align="center" width="60"></td>
    <td width="20"></td>
    <td align="center" width="60"></td>
    <td width="20"></td>
    <td align="center" width="60"></td>
    <td width="20"></td>
   </tr>
   <tr>
    <td >&nbsp;</td>
   </tr>
<!-- 第5行 -->
    <tr>
     <td width="40"></td>
     <td align="center" width="60"><a href="../../../../../mail/" target="_blank"><img name="mail" src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/mail.gif" width="50" height="50" border="0" id="index_r11_c4" alt="" /></a></td>
     <td width="20"></td>
     <td align="center" width="60"><a href="../../../../../domain/kkk.cx/" target="_blank"><img name="mail" src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/mi.png" width="50" height="50" border="0" id="index_r11_c4" alt="" /></a></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
     <td align="center" width="60"></td>
     <td width="20"></td>
    </tr>
   <tr>
   	<td width="40"></td>
    <td align="center" width="60">我的邮局</td>
    <td width="20"></td>
    <td align="center" width="60">我的米表</td>
    <td width="20"></td>
    <td align="center" width="60"></td>
    <td width="20"></td>
    <td align="center" width="60"></td>
    <td width="20"></td>
    <td align="center" width="60"></td>
    <td width="20"></td>
    <td align="center" width="60"></td>
    <td width="20"></td>
    <td align="center" width="60"></td>
    <td width="20"></td>
   </tr>
   <tr>
    <td >&nbsp;</td>
   </tr>

  </table>
</div>





<!-- 底部和按钮 -->
<div  style="position:absolute; width:100%; height:39; z-index:4; left:0px; bottom: -3px;">
 <table style="border-collapse:collapse;width:100%; height:39;">
 	<tr>
 	 <td align="left"><img src="https://jihulab.com/free163/9b9net/-/raw/e6bc35f51dbf4ce8bddb31c925f90b4c34c82111/images/bottom-left.jpg" width="109" height="39" border="0"></td>
	 <td align="center" width="100%" height="39" border="0" background="https://jihulab.com/free163/9b9net/-/raw/e6bc35f51dbf4ce8bddb31c925f90b4c34c82111/images/bottom-center.jpg"></td>
   <td align="right"><img src="https://jihulab.com/free163/9b9net/-/raw/e6bc35f51dbf4ce8bddb31c925f90b4c34c82111/images/bottom-right.jpg" width="273" height="39" border="0"></td>
  </tr>
 </table>
</div>

<div class="fish" style="position:absolute; width:50; height:50; z-index:7; left: 0px; bottom: -3px;backgroud-color:000;">
<table>
	<tr>
		<td><a href="../../../../../index/" target="_blank"><img src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/space.gif" width="40" height="50" border="0" alt=""></a></td>
		<td width="20">&nbsp;</td>
		<td><a href="https://pan.11.wf" target="_blank"><img src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/space.gif" width="40" height="50" border="0" alt=""></a></td>
		<td width="1050">&nbsp;</td>
		<td><a href="http://wx.qq.com/" target="_blank"><img src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/space.gif" width="15" height="50" border="0" alt=""></a></td>
		<td width="10">&nbsp;</td>
		<td><a href="http://www.360.cn" target="_blank"><img src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/space.gif" width="15" height="50" border="0" alt=""></a></td>
		<td width="7">&nbsp;</td>
		<td><a href="../../../../../musicindex/" target="_blank"><img src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/space.gif" width="15" height="50" border="0" alt=""></a></td>
		<td width="6">&nbsp;</td>
		<td><a href="../../../../../musicindex/" target="_blank"><img src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/space.gif" width="15" height="50" border="0" alt=""></a></td>
		<td width="4">&nbsp;</td>
		<td><a href="../../../../../musicindex/" target="_blank"><img src="https://jihulab.com/free163/wondows1-2345.ltd/-/raw/b7ecd4659bd086b95400a94f7f327e9bc9afa1ce/pc/computer/space.gif" width="15" height="50" border="0" alt=""></a></td>
		
			
	</tr>
</table>
</div>


</div>
<!-- 代码 结束 -->


</div>
			</div><!-- /content-wrap -->
		</div><!-- /container -->
		<script src="js/classie.js"></script>
		<script src="js/main4.js"></script>

<canvas></canvas>



<script>
class Snow
{
    constructor() {

        this.imageInfo        = 0;
        this.snowFlakeEntropy = 100;
        this.flakeCount       = 3000;

        this.snowColor        = (v) => { return `hsl(0, 0%, ${50 + v * 40 | 0}%)`; };

        this.canvas = document.querySelector('canvas');
        this.engine = this.canvas.getContext('2d');

        this.width  = window.innerWidth;
        this.height = window.innerHeight;

        this.minSize = 15;
        this.maxSize = Math.max(5, this.width * 0.15 + this.height * 0.15);

        this.canvas.setAttribute('width', this.width);
        this.canvas.setAttribute('height', this.height);

        this.generateImages();
        this.renderer = null;

        this.build();
        this.buildBackground();
        this.buildForeground();

    }

    buildBackground() {

        this.bg = this.engine.createLinearGradient(0,0,0,this.height);
        this.bg.addColorStop(0, '#113');
        this.bg.addColorStop(1, '#558');

    }

    buildForeground() {

        this.fg = this.engine.createLinearGradient(0,0,0,this.height);
        this.fg.addColorStop(0, 'rgba(0, 0, 0, 0.3)');
        this.fg.addColorStop(1, 'rgba(0, 0, 0, 0)');

    }

    generateImages() {

        this.flakeImages = new Array(this.snowFlakeEntropy);

        for (let i = 0; i < this.snowFlakeEntropy; i++) {
            this.flakeImages[i] = this.generateRandomFlake(i / this.snowFlakeEntropy);
        }

        console.log(`unique flakes builded: ${this.imageInfo}`);

    }

    build() {

        this.flakeStorage = new Array(this.flakeCount).fill(null).map(() => {

            const flake = {
                img : this.flakeImages[Math.random() * this.flakeImages.length | 0]
            };

            this.resetFlake(flake);
            flake.y = Math.random();

            return flake;

        });

        this.flakeStorage.sort((f1, f2) => {
            return f1.img.imgSize - f2.img.imgSize;
        });


    }

    resetFlake(flake) {

        flake.x  = Math.random();
        flake.y  = 0;
        flake.dx = Math.random();
        flake.dy = Math.random();

        flake.current = flake.img.samples[flake.img.samples.length * Math.random() | 0];

    }


    generateRandomFlake(s) {

        const sizer   = Math.pow(s, 15);
        const sCount  = 1 + Math.pow(s, 15) * 6 | 0;
        // const sizer = Math.pow(s, 5);

        const size    = this.minSize + sizer * this.maxSize;
        const radius  = size * 0.45;
        const imgSize = size * 1.4;

        const samples = new Array(sCount);

        for (let s = 0; s < sCount; s++) {

            this.imageInfo++;

            const blur    = Math.pow(size * 0.05, 1.05) * (Math.random() + 0.5) | 0;
            const mid     = imgSize / 2;
            const spread  = 0.2 + Math.random() * 0.35;

            const lineWidth  = size * 0.05;
            const beginAngle = Math.random() * Math.PI * 2;
            const forkCount  = 5 + Math.random() * 5 | 0;

            const canvas = document.createElement('canvas');
            const engine = canvas.getContext('2d');

            canvas.setAttribute('width', imgSize);
            canvas.setAttribute('height', imgSize);

            engine.lineCap     = 'round';
            engine.filter      = `blur(${blur}px)`;
            engine.strokeStyle = this.snowColor(sizer);


            //main
            engine.beginPath();

            for (let i = 0; i < forkCount; i++) {

                engine.moveTo(mid, mid);
                engine.lineTo(
                    mid + Math.cos(beginAngle + i / forkCount * Math.PI * 2) * radius * 0.7,
                    mid + Math.sin(beginAngle + i / forkCount * Math.PI * 2) * radius * 0.7
                );

            }

            engine.lineWidth = lineWidth * (Math.random() + 0.1);
            engine.stroke();
            engine.closePath();

            //sub
            engine.beginPath();

            for (let i = 0; i < forkCount; i++) {

                const depth = 0.3 * radius + 0.3 * Math.random() * radius;

                const left  = depth + radius * 0.3 + radius * 0.4 * Math.random();
                const right = depth + radius * 0.3 + radius * 0.4 * Math.random();

                engine.moveTo(
                    mid + Math.cos(beginAngle + i / forkCount * Math.PI * 2 - spread) * (left),
                    mid + Math.sin(beginAngle + i / forkCount * Math.PI * 2 - spread) * (left)
                );
                engine.lineTo(
                    mid + Math.cos(beginAngle + i / forkCount * Math.PI * 2) * depth,
                    mid + Math.sin(beginAngle + i / forkCount * Math.PI * 2) * depth
                );
                engine.lineTo(
                    mid + Math.cos(beginAngle + i / forkCount * Math.PI * 2 + spread) * (right),
                    mid + Math.sin(beginAngle + i / forkCount * Math.PI * 2 + spread) * (right)
                );

            }

            engine.lineWidth   = lineWidth * 0.5 * (Math.random() + 0.1);
            engine.strokeStyle = this.snowColor(sizer);
            engine.stroke();
            engine.closePath();

            samples[s] = canvas;

        }

        return {
            imgSize,
            samples
        }

    }

    progress(from, to, step) {
        return from + (to - from) * step;
    }

    renderFlake(flake) {

        flake.x += 0.0003 + flake.dx * 0.0003 * Math.pow(flake.img.imgSize * 0.03, 1.05);
        flake.y += (0.003  + flake.dy * 0.015) * Math.pow(flake.img.imgSize * 0.003, 0.7);

        (flake.y > 1 || flake.y < 0) && this.resetFlake(flake);

        this.engine.drawImage(
            flake.current,
            this.progress(-flake.img.imgSize, this.width, flake.x % 1) | 0,
            this.progress(-flake.img.imgSize, this.height, flake.y) | 0
        );

    }

    render() {

        this.engine.fillStyle = this.bg;
        this.engine.fillRect(0, 0, this.width, this.height);

        this.flakeStorage.forEach(this.renderFlake.bind(this));

        this.engine.fillStyle = this.fg;
        this.engine.fillRect(0, 0, this.width, this.height);

        requestAnimationFrame(this.renderer);

    }

    run() {

        this.renderer = this.render.bind(this);
        this.renderer();

    }
}

const a = new Snow();
a.run();
</script>




</body>

</html>
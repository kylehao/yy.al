
<!DOCTYPE html>
<html lang="zh-cn">

<head>

    <meta charset="UTF-8">
    <title>My heart will go on!</title>
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="robots" content="index,follow">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="keywords" content="icland">
    <meta name="description" content="icland">

    <link rel="icon" type="image/x-icon" href="./assets/favicon.svg">
    <!--移动端识别开始-->
    <!--<meta http-equiv="mobile-agent" content="format=xhtml;url=index_old.html">-->
    <!--<script type="text/javascript">-->
    <!--    if (window.location.toString().indexOf('pref=padindex') !== -1) {-->
    <!--    } else {-->
    <!--        if (/AppleWebKit.*Mobile/i.test(navigator.userAgent) || (/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(navigator.userAgent))) {-->
    <!--            if (window.location.href.indexOf("?mobile") < 0) {-->
    <!--                try {-->
    <!--                    if (/Android|Windows Phone|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {-->
    <!--                        window.location.href = "index_old.php";-->
    <!--                    } else if (/iPad/i.test(navigator.userAgent)) {-->
    <!--                    } else {-->
    <!--                    }-->
    <!--                } catch (e) {-->
    <!--                }-->
    <!--            }-->
    <!--        }-->
    <!--    }-->
    <!--</script>-->
    <!--移动端识别结束-->

    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link rel="stylesheet" href="./assets/css/main.css">
    <link rel="stylesheet" href="./assets/css/magnific-popup.css">
</head>

<body>
    <div>
        <video id="background_video" muted>你的浏览器好像不支持内嵌视频诶，换个浏览器吧~
        </video>
        <!-- #video_cover 是默认的视频封面 -->
        <div id="video_cover"></div>
        <!-- #overlay 遮罩层 -->
        <div id="overlay"></div>
        <!-- #video_controls 用来控制视频静音、取消静音 -->

        <div id="video_controls">
            <span id="mute" style="background-repeat: no-repeat;">
                <img src="./assets/img/blank.png" alt="">
            </span>
        </div>
        <!-- section 中添加任意你想展示的HTML内容 -->
        <section id="main_content">
            <div class="loading">
                <div class="spinner">
                    <div class="rect1"></div>
                    <div class="rect2"></div>
                    <div class="rect3"></div>
                    <div class="rect4"></div>
                    <div class="rect5"></div>
                </div>
            </div>

            <!-- <main>
            <div class="content">
                <span style="display: none;font-size: xxx-large;color: white;margin: 0 auto;" id="js-polling">Hello, Hola, Bonjour, Ciao, こんにちは, ?????, ?????? , ?????, ?????? , Привет, Olá, ?????, Hej</span>
            </div>
        </main> -->
        </section>
        <footer>
            <p id="hitokoto">Loading...</p>
            <div>
                <span id="view_domain"></span>
                <span> Power by  </span>
                <span><a href="http://free163.com">free163.com</a></span>
                <!--<span id="run_time"></span>-->
            </div>
        </footer>
    </div>

    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="./assets/js/main.js"></script>
    <script src="./assets/js/bideo.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/Morphext/2.4.4/morphext.min.js"></script>

    <script>
        const curdomain = window.location.host;
        document.title = curdomain + ' My heart will go on! ';
        document.getElementById('view_domain').innerHTML = curdomain;
        (function () {
            /* Rotating Text - Morphtext */
            // $("#js-polling").Morphext({
            //     // The [in] animation type. Refer to Animate.css for a list of available animations.
            //     animation: "fadeIn",
            //     // An array of phrases to rotate are created based on this separator. Change it if you wish to separate the phrases differently (e.g. So Simple | Very Doge | Much Wow | Such Cool).
            //     separator: ",",
            //     // The delay between the changing of each phrase in milliseconds.
            //     speed: 2523,
            //     complete: function () {
            //         $("#js-polling").css('display', 'block');
            //         // Called after the entrance animation is executed.
            //     }
            // });

            const bv = new Bideo();
            //视频背景直链数组 rain 心火
            const videoUrls = [
                'https://alist.660000.xyz/d/189Cloud130/%E8%83%8C%E6%99%AF%E8%A7%86%E9%A2%91/Do+You+Like+Rain+I+Prefer+You_2K.mp4?sign=4CnsCxTC2jj6CtDueFEz6uc_n3DcHqkkdvlzAw6lMAQ=:0',
                'https://alist.660000.xyz/d/189Cloud130/%E8%83%8C%E6%99%AF%E8%A7%86%E9%A2%91/looking_into_your_heart.mp4?sign=qWp4Yn_etJUI_Mu0dJufgntm2kNiX0jWv9bpR_Cqmbs=:0',
                'https://alist.660000.xyz/d/189Cloud130/%E8%83%8C%E6%99%AF%E8%A7%86%E9%A2%91/%E7%88%B1%E8%BF%87%20%E5%8D%91%E5%BE%AE%E8%BF%87%20%E8%BF%99%E9%A6%96%E3%80%8A%E6%98%A5%E5%A8%87%E4%B8%8E%E5%BF%97%E6%98%8E%E3%80%8B%E7%9B%B4%E5%87%BB%E7%81%B5%E9%AD%82.mp4?sign=JBOWPf5gqZgNh0S_MV8iUuRiO6IJ71JMn_3LjshA2ZY=:0',
                'https://alist.660000.xyz/d/189Cloud130/%E8%83%8C%E6%99%AF%E8%A7%86%E9%A2%91/%E6%8C%A5%E4%B8%8D%E5%8E%BB%E7%9A%84%E9%98%B4%E9%9C%BE%20%E8%AE%A9%E6%88%91%E4%B8%BA%E4%BD%A0%E6%8E%A9%E5%9F%8B.mp4?sign=D1ZV7b88kdT0DaxaHKj-g7729IEnbVhnkMgBwPNKTLc=:0',
                'https://alist.660000.xyz/d/189Cloud130/%E8%83%8C%E6%99%AF%E8%A7%86%E9%A2%91/%E8%8B%A5%E5%BF%83%E7%81%AB%E7%BB%9A%E7%83%82%20%E4%BA%BA%E4%BA%A6%E4%B8%8E%E7%83%9F%E8%8A%B1%E5%85%B1%E6%9F%932K.mp4?sign=zpHKA25nIfFeXcCXcvCorfAXAPKm85L8rP2TcNg1wug=:0',
				'https://alist.660000.xyz/d/189Cloud130/%E8%83%8C%E6%99%AF%E8%A7%86%E9%A2%91/%E5%96%9C%E6%AC%A2%E4%BD%A0%E6%98%AF%E6%88%91%E7%9A%84%E7%A7%98%E5%AF%86+%E6%B7%B1%E5%BA%A6%E5%B0%B1%E5%83%8F%E5%9C%A8%E6%B5%B7%E5%BA%95%E5%8D%81%E4%B8%87%E7%B1%B3.mp4?sign=zpHKA25nIfFeXcCXcvCorfAXAPKm85L8rP2TcNg1wug=:0'
            ];
            const firstVid = Math.floor(Math.random() * videoUrls.length);
            const firstVidUrl = videoUrls[firstVid];
            videoUrls.splice(firstVid, 1)
            let newVidArr = new Array();
            newVidArr.push(
                {
                    src: firstVidUrl,
                    type: 'video/mp4'
                }
            );
            videoUrls.forEach((val) => {
                newVidArr.push(
                    {
                        src: val,
                        type: 'video/mp4'
                    }
                );
            });

            bv.init({
                // Video元素
                videoEl: document.querySelector('#background_video'),
                // 容器元素
                container: document.querySelector('body'),
                // 自适应调整
                resize: true,
                // autoplay: false,
                muteButton: document.querySelector('#mute'),
                // 静音图标
                _muteImage: './assets/img/mute.png',
                // 取消静音图标
                _unmuteImage: './assets/img/unmute.png',
                // 加载视频源, 根据实际业务更换自己的视频源文件
                src: newVidArr,
                // 一旦视频加载后即将视频封面隐藏
                onLoad: function () {
                    document.querySelector('#video_cover').style.display = 'none';
                    if (video.muted) {
                        document.querySelector('#mute').style.backgroundImage = "url('./assets/img/mute.png')";
                    }
                }
            });
            // 监听视频播放完成事件, 并播放下一个
            var video = document.getElementById('background_video');
            var sources = video.getElementsByTagName('source');
            var currentIndex = 0;
            video.addEventListener('ended', function () {
                console.log('next...');
                currentIndex = (currentIndex + 1) % sources.length;
                video.src = sources[currentIndex].src;
                video.load();
                video.play();
                video.muted = false;
            });
        }());
    </script>
</body>

</html>